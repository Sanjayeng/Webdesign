!function(){"use strict";var t=function(){return(t=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function q(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,o,i=t.call(e),u=[];try{for(;(void 0===n||0<n--)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u}function r(e){return"object"==typeof e&&null!==e}function x(e){return"function"==typeof e}function f(e,n){return e.initSubject(n)}function M(){return Date.now()}function C(){if("object"==typeof window&&r(window))return window}function P(){if("object"==typeof document&&r(document))return document}function o(){if(C()&&x(window.PerformanceObserver))return window.PerformanceObserver}function U(n){return n.requestIdleCallback||function(e){return n.setTimeout(e,1)}}function i(e,n,t){return e=q(a(e,n),3),n=e[0],e=e[2],n(t),e}var s=function(e,n){return r(e)?t(t({},n),e):!!e&&n},u=["resource"],c=["longtask"],a=function(n,o,t){var r=n&&new n(function(e,r){e.getEntries?e.getEntries().forEach(function(e,n,t){return o(e,n,t,r)}):t&&t()});return[function(e){if(!n||!r)return t&&t();try{r.observe({entryTypes:e})}catch(e){return t&&t()}},function(e){if(!n||!r)return t&&t();try{r.observe({type:e,buffered:!0})}catch(e){return t&&t()}r.observe({type:e,buffered:!1})},function(){return r&&r.disconnect()}]},l=["longtask_0",function(e,n){var t=o();t&&n(i(t,e,c))}],d=["resource_0",function(e,n){var t=o();t&&n(i(t,e,u))}];function B(t,r,e,o,i){if(void 0===r&&(r=0),void 0===e&&(e=0),void 0===o&&(o=1.5),void 0===i&&(i=m),!t||-1<i.indexOf(t.tagName)||o<=e||4<r)return e;var n=function(){if(!r)return 0;var e=t.getBoundingClientRect(),n=e.top,e=e.height;return n>innerHeight||e<=0?0:1/Math.pow(2,r-1)}();return[].reduceRight.call(t.children,function(e,n){return B(n,r+1,e,o,i)},e+n)}function H(e){var n=e.cb,t=e.screenshotUrl,r=e.window,o=e.document,i=e.mask,u=e.partialShot,c=e.quality,a=e.rootSelector;if(C()&&"Promise"in window&&Promise&&r&&o){if(r.html2canvas)return f(),0;e=o.createElement("script");e.src=t,null!==(t=o.head)&&void 0!==t&&t.appendChild(e),e.onload=f}function f(){U(r)(function(){r.html2canvas&&r.html2canvas(u&&a&&o.querySelector(a)||o.body,{scale:360/r.innerWidth,mask:i}).then(function(e){n("data:image"===(e=e.toDataURL("image/jpeg",c)).slice(0,10)?e:function(e,n){void 0===e&&(e=192);void 0===n&&(n=108);var t=document.createElement("canvas");t.width=e,t.height=n;var r=t.getContext("2d");r&&(r.fillStyle="#ffffff",r.fillRect(0,0,e,n));return t.toDataURL("image/jpeg")}())})})}}var p=["unload_0",function(e,n){var t,r,o,i,u,c=C();c&&(t=q((r=e,o=!1,[function(e){o||(o=!0,r&&r(e))}]),1)[0],u=function(){t()},(i=["unload","beforeunload","pagehide"]).forEach(function(e){c.addEventListener(e,u)}),n(function(){i.forEach(function(e){c.removeEventListener(e,u)})}))}],v=["domLoad_0",function(e,n){var t,r,o=C(),i=P();o&&i&&(o.addEventListener("DOMContentLoaded",t=function(){setTimeout(function(){e()},0)},!1),r=U(o),n(function(){o.removeEventListener("DOMContentLoaded",t,!1)},function(e){"complete"===i.readyState&&r(function(){e()})}))}],m=["SCRIPT","STYLE","META","HEAD"],I=["js_error","http","resource_error"],Y=["performance","performance_longtask","performance_timing","custom"];var h=function(n,o,e,t){function r(e){a&&n({ev_type:"blank_screen",payload:{timestamp:a[0],score:a[1],screenshot:e,error:f}})}function i(){s&&clearTimeout(s),s=T.setTimeout(function(){L(function(){T.requestAnimationFrame(function(){var e=w?D.querySelector(w):D.body;e&&((e=B(e,0,0,g))<g?(a=[M(),e],A()):a=void 0)})})},1e3)}var u,c,a,f,s,l,d,p,v=q(e,4),m=v[0],h=v[1],y=v[2],e=v[3],g=t.threshold,b=t.screenshot,w=t.rootSelector,v=t.autoDetect,_=t.ssUrl,S=t.quality,E=t.mask,R=t.partialShot,T=C(),D=P(),L=U(T),k=q((u=performance,[c=u&&u.timing||void 0,function(){return u&&u.now?u.now():(Date.now?Date.now():+new Date)-(c&&c.navigationStart||0)},function(e){var n=(u||{}).getEntriesByType;return x(n)&&n.call(u,e)||[]},function(){var e=(u||{}).clearResourceTimings;x(e)&&e.call(u)},function(e){var n=(u||{}).getEntriesByName;return x(n)&&n.call(u,e)||[]}]),2)[1],O=0,j=!1,A=(l=function(){a&&!j&&(j=!0,o.forEach(function(e){return e()}),o.length=0,b?H({cb:r,screenshotUrl:_,window:T,document:D,mask:E,partialShot:R,quality:S,rootSelector:w}):r())},function(){d||(p=M(),d=T.setTimeout(function(){d=0,(p<O?i:l)()},1e4<k()?2e3:8e3))});return o.push(e[0](function(){!j&&f&&r()})),v&&o.push(m[0](function(){var e,t,e=q((e=function(){if(C()&&x(window.MutationObserver))return window.MutationObserver}(),n=i,t=e&&new e(n),[function(e,n){t&&e&&t.observe(e,n)},function(){return t&&t.disconnect()}]),2),n=e[0],r=e[1];o.push(function(){clearTimeout(s),r&&r()}),n(null===(n=P())||void 0===n?void 0:n.body,{subtree:!0,childList:!0}),o.push(h()[0](function(){s&&i()})),o.push(y()[0](function(){s&&i()})),i()})),[function(e){j||~Y.indexOf(e.ev_type)||(O=M(),f=function(e,n){if(-1===I.indexOf(n.ev_type))return e;if("http"===n.ev_type&&n.payload.response.status<400)return e;if(e&&I.indexOf(e.type)<I.indexOf(n.ev_type))return e;var t="";switch(n.ev_type){case"js_error":t=n.payload.error.message;break;case"http":t=n.payload.request.url;break;case"resource_error":t=n.payload.url}return{type:n.ev_type,message:t,timestamp:M()}}(f=f&&1e4<O-f.timestamp?void 0:f,e))},i]},y="blankScreen";function g(u,c,a){u.on("init",function(){var e,n,t,r,o=P(),i=C();o&&i&&(e=y,o=c,e=null===(i=(i=u).config())||void 0===i?void 0:i.plugins[e],(o=s(e,o)||s(a,c))&&(n=[],o=q(h(u.report.bind(u),n,[f(u,v),function(){return f(u,l)},function(){return f(u,d)},f(u,p)],o),2),t=o[0],o=o[1],u.on("report",r=function(e){return t(e),e}),u.on("beforeDestroy",function(){n.forEach(function(e){return e()}),u.off("report",r)}),u.provide("detectBlankScreen",o)))})}var e,n,b,w={autoDetect:!0,threshold:1.5,screenshot:!0,ssUrl:"https://sf16-short-va.bytedapm.com/slardar/fe/sdk-web/screenshot.min.js",mask:!1,partialShot:!1,quality:.1};n=(null===(e=function(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(e){var n=0,t=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(e.stack),r=t&&t[2]||!1,o=t&&t[3]||0,i=document.location.href.replace(document.location.hash,""),u="",c=document.getElementsByTagName("script");for(r===i&&(t=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(o-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),u=t.replace(o,"$1").trim());n<c.length;n++){if("interactive"===c[n].readyState)return c[n];if(c[n].src===r)return c[n];if(r===i&&c[n].innerHTML&&c[n].innerHTML.trim()===u)return c[n]}return null}}())||void 0===e?void 0:e.getAttribute("src"))||"",(b=P())&&n&&((b=b.createElement("a")).href=n,"/"!==(n=b.pathname||"/")[0]&&(n="/"+n),b.href,b.protocol.slice(0,-1),b.hostname,b.search.substring(1),b.hash);var _,S,E,R,T="1.5.4";_=y,S=function(e,n){g(e,w,n)},(E=void 0===E?function(e){if(e)return e.__SLARDAR_REGISTRY__||(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),e.__SLARDAR_REGISTRY__.Slardar}(C()):E)&&E.plugins&&(R=_,E.plugins.filter(function(e){return e.name===R&&e.version===T})[0]||E.plugins.push({name:_,version:T,apply:S}))}();
